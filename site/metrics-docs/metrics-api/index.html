
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="http://metrics.operas-eu.org/metrics-docs/metrics-api/">
      
      
        <link rel="prev" href="../onboarding-sending-metrics/">
      
      
        <link rel="next" href="../access-logs-local/">
      
      
      <link rel="icon" href="/images/icons/Operas-icon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>Metrics API - Metrics Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/css.css?v=1.0">
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css?v=1.0">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    
    
    <script src="../../js/matomo-tracking.js"></script>

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#metrics-api" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Metrics Documentation" class="md-header__button md-logo" aria-label="Metrics Documentation" data-md-component="logo">
      
  <img src="/images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Metrics Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Metrics API
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="purple"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="white" data-md-color-accent="purple"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../measures/" class="md-tabs__link">
        
  
  
    
  
  <i class="fa-solid fa-chart-line"></i>&nbsp;&nbsp;Measures

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../principles/" class="md-tabs__link">
        
  
  
    
  
  <i class="fa-sharp-duotone fa-solid fa-heart"></i>&nbsp;&nbsp;Our Principles

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../getting-started/" class="md-tabs__link">
          
  
  
  <i class="fa-solid fa-book-open"></i>&nbsp;&nbsp;Documentation

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Metrics Documentation" class="md-nav__button md-logo" aria-label="Metrics Documentation" data-md-component="logo">
      
  <img src="/images/logo.png" alt="logo">

    </a>
    Metrics Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../measures/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    <i class="fa-solid fa-chart-line"></i>&nbsp;&nbsp;Measures
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../principles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    <i class="fa-sharp-duotone fa-solid fa-heart"></i>&nbsp;&nbsp;Our Principles
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    <i class="fa-solid fa-book-open"></i>&nbsp;&nbsp;Documentation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            <i class="fa-solid fa-book-open"></i>&nbsp;&nbsp;Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../altmetrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Altmetrics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../annotation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Annotation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../countries-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Countries API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../crossref-citedby/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Crossref Cited-by
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OPERAS Metrics Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../drivers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Drivers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../onboarding-users/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Onboarding Users
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../onboarding-sending-metrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Onboarding Metrics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Metrics API
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Metrics API
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#api-routes" class="md-nav__link">
    <span class="md-ellipsis">
      API routes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#get-citations" class="md-nav__link">
    <span class="md-ellipsis">
      GET citations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GET citations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#params" class="md-nav__link">
    <span class="md-ellipsis">
      Params
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#get-events" class="md-nav__link">
    <span class="md-ellipsis">
      GET events
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GET events">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#params_1" class="md-nav__link">
    <span class="md-ellipsis">
      Params
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#post-events" class="md-nav__link">
    <span class="md-ellipsis">
      POST events
    </span>
  </a>
  
    <nav class="md-nav" aria-label="POST events">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#params_2" class="md-nav__link">
    <span class="md-ellipsis">
      Params
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#get-measures" class="md-nav__link">
    <span class="md-ellipsis">
      GET measures
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GET measures">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#params_3" class="md-nav__link">
    <span class="md-ellipsis">
      Params
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_11" >
        
          
          <label class="md-nav__link" for="__nav_3_11" id="__nav_3_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Drivers & Plugins
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_11">
            <span class="md-nav__icon md-icon"></span>
            Drivers & Plugins
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../access-logs-local/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Access Logs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../google-analytics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Google Analytics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../google-books/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Google Books
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../identifier-translation-service/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Identifier Translation Service
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../irus-uk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    IRUS-UK
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../jstor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    JSTOR
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../matomo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Matomo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../onboarding-sending-metrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Onboarding Metrics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../onboarding-users/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Onboarding Users
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../server-access-logs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Server Access Logs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tokens-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tokens API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../unglueit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Unglue.it
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../figshare/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Figshare
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../widget/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Widget
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../publishers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Publishers
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="metrics-api">Metrics API</h1>
<p>The Metrics API is available as read-only via GET requests and with 'read-write access." </p>
<ul>
<li><strong>Metrics API Source</strong>: <a href="https://gitlab.com/ubiquitypress/metrics-api" title="Metrics-api link">https://gitlab.com/ubiquitypress/metrics-api</a></li>
</ul>
<h3 id="api-routes">API routes</h3>
<p>The following methods are allowed:</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Route</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>GET</code></td>
<td><a href="#get-citations"><code>/citations</code></a></td>
<td>Retrieve citation metadata for a given work URI</td>
</tr>
<tr>
<td><code>GET</code></td>
<td><a href="#get-events"><code>/events</code></a></td>
<td>Retrieve events from the API with various parameters. See below.</td>
</tr>
<tr>
<td><code>POST</code></td>
<td><a href="#post-events"><code>/events</code></a></td>
<td>Create a new event using JSON in the body</td>
</tr>
<tr>
<td><code>GET</code></td>
<td><a href="#get-measures"><code>/measures</code></a></td>
<td>List the descriptions of the measures available in the API</td>
</tr>
</tbody>
</table>
<h3 id="get-citations">GET <code>citations</code></h3>
<h4 id="params">Params</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Location</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>work_uri</td>
<td>query</td>
<td>string</td>
<td>yes</td>
<td>Uniform Resource Identifier (URI) that uniquely identifies a specific work or piece of content saved in the Event table.</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Request Example</p>
</blockquote>
<p><code>http://localhost:8080/citations?work_uri=info:doi:10.1242/dev.164269</code></p>
<blockquote>
<p>Response Example</p>
</blockquote>
<pre><code class="language-json">{
    &quot;status&quot;: &quot;ok&quot;,
    &quot;code&quot;: 200,
    &quot;count&quot;: 1,
    &quot;data&quot;: [
        {
            &quot;authors&quot;: [
                {
                    &quot;last_name&quot;: &quot;Toro-Tapia&quot;,
                    &quot;initial&quot;: &quot;G.&quot;
                },
                {
                    &quot;last_name&quot;: &quot;Villaseca&quot;,
                    &quot;initial&quot;: &quot;S.&quot;
                }
            ],
            &quot;editors&quot;: [],
            &quot;year&quot;: 2018,
            &quot;title&quot;: &quot;The Ric-8A/Gα13/FAK signaling cascade controls focal adhesion formation during neural crest cell migration&quot;,
            &quot;source&quot;: &quot;Development&quot;,
            &quot;volume&quot;: null,
            &quot;issue&quot;: null,
            &quot;page&quot;: null,
            &quot;doi&quot;: &quot;10.1242/dev.164269&quot;,
            &quot;type&quot;: &quot;journal-article&quot;
        }
    ]
}
</code></pre>
<h3 id="get-events">GET <code>events</code></h3>
<h4 id="params_1">Params</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Location</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>event_id</td>
<td>query</td>
<td>string</td>
<td>no</td>
<td>UUID saved in the Event table as an identifier.</td>
</tr>
<tr>
<td>aggregation</td>
<td>query</td>
<td>string</td>
<td>no</td>
<td>The results can be aggregated on certain values, i.e. aggregation on measure_uri. Aggregation must be one of the following options:<br>- <code>empty</code><br>- <code>measure_uri,country_uri</code><br>- <code>year,measure_uri</code><br>- <code>month,measure_uri</code><br>- <code>year,country_uri</code><br>- <code>measure_uri</code>.</td>
</tr>
<tr>
<td>filter</td>
<td>query</td>
<td>string</td>
<td>no</td>
<td>Many different options can be used in the filter, i.e. filtering on measure_uri or on work_uri. These can be combined or even used multiple times by separating them with a comma ","</td>
</tr>
<tr>
<td>start_date</td>
<td>query</td>
<td>string</td>
<td>no</td>
<td>ISO 8601 format (YYYY-MM-DD) as a starting date to retrieve the events from.</td>
</tr>
<tr>
<td>end_date</td>
<td>query</td>
<td>string</td>
<td>no</td>
<td>ISO 8601 format (YYYY-MM-DD) as a end date to retrieve the events until.</td>
</tr>
</tbody>
</table>
<p>NOTE: You can use either the filter for the event_id, or the aggregation, or a combination of both, with the start and end dates.</p>
<blockquote>
<p>Request Example with a specific id:</p>
</blockquote>
<p><code>https://metrics-api.operas-eu.org/events?event_id=5e865d82-fcd4-4586-b209-8722ed1246e3</code></p>
<blockquote>
<p>Response Example</p>
</blockquote>
<pre><code class="language-json">{
  &quot;status&quot;: &quot;ok&quot;,
  &quot;code&quot;: 200,
  &quot;count&quot;: 1,
  &quot;data&quot;: [
    {
      &quot;event_id&quot;: &quot;5e865d82-fcd4-4586-b209-8722ed1246e3&quot;,
      &quot;work_uri&quot;: &quot;info:doi:10.12681/aprlp.16&quot;,
      &quot;measure_uri&quot;: &quot;https://metrics.operas-eu.org/ekt/landingsessions/v1&quot;,
      &quot;timestamp&quot;: &quot;2021-02-10T00:00:00+0000&quot;,
      &quot;value&quot;: 1000,
      &quot;event_uri&quot;: &quot;1&quot;,
      &quot;country_uri&quot;: &quot;urn:iso:std:3166:-2:GR&quot;,
      &quot;uploader_uri&quot;: &quot;acct:kstamatis@ekt.gr&quot;
    }
  ]
}
</code></pre>
<ul>
<li>Aggregation and Filters:</li>
</ul>
<blockquote>
<p>See the difference between a plain request with 26 results:</p>
</blockquote>
<p><code>http://localhost:8080/events</code></p>
<pre><code class="language-json">{
    &quot;status&quot;: &quot;ok&quot;,
    &quot;code&quot;: 200,
    &quot;count&quot;: 26,
    &quot;data&quot;: [
        {
            &quot;event_id&quot;: &quot;fa5fcb71-78ca-4183-a44b-d07030bc5e80&quot;,
            &quot;work_uri&quot;: &quot;info:doi:10.5334/jors.122&quot;,
            &quot;measure_uri&quot;: &quot;https://metrics.operas-eu.org/crossref/citations/v1&quot;,
            &quot;timestamp&quot;: &quot;2022-08-29T01:00:00+0100&quot;,
            &quot;value&quot;: 1,
            &quot;event_uri&quot;: &quot;10.5194/gmd-15-6399-2022&quot;,
            &quot;country_uri&quot;: null,
            &quot;uploader_uri&quot;: &quot;acct:tech@ubiquitypress.com&quot;
        },
        {
            &quot;event_id&quot;: &quot;da55c8ab-12df-4885-8b92-edff51bc23d0&quot;,
            &quot;work_uri&quot;: &quot;info:doi:10.5334/jors.148&quot;,
            &quot;measure_uri&quot;: &quot;https://metrics.operas-eu.org/crossref/citations/v1&quot;,
            &quot;timestamp&quot;: &quot;2022-11-08T00:00:00+0000&quot;,
            &quot;value&quot;: 1,
            &quot;event_uri&quot;: &quot;10.5194/npg-30-13-2023&quot;,
            &quot;country_uri&quot;: null,
            &quot;uploader_uri&quot;: &quot;acct:tech@ubiquitypress.com&quot;
        },
        ....
    ]
}
</code></pre>
<blockquote>
<p>Same request with aggregation, we get only 3 results and ordered by year:</p>
</blockquote>
<p><code>http://localhost:8080/events?aggregation=year,measure_uri</code></p>
<pre><code class="language-json">{
    &quot;status&quot;: &quot;ok&quot;,
    &quot;code&quot;: 200,
    &quot;count&quot;: 3,
    &quot;data&quot;: [
        {
            &quot;year&quot;: &quot;2022&quot;,
            &quot;data&quot;: [
                {
                    &quot;measure_uri&quot;: &quot;https://metrics.operas-eu.org/crossref/citations/v1&quot;,
                    &quot;namespace&quot;: &quot;https://metrics.operas-eu.org&quot;,
                    &quot;source&quot;: &quot;Crossref&quot;,
                    &quot;type&quot;: &quot;citations&quot;,
                    &quot;version&quot;: &quot;v1&quot;,
                    &quot;value&quot;: 3
                }
            ]
        },
        {
            &quot;year&quot;: &quot;2023&quot;,
            &quot;data&quot;: [
                {
                    &quot;measure_uri&quot;: &quot;https://metrics.operas-eu.org/crossref/citations/v1&quot;,
                    &quot;namespace&quot;: &quot;https://metrics.operas-eu.org&quot;,
                    &quot;source&quot;: &quot;Crossref&quot;,
                    &quot;type&quot;: &quot;citations&quot;,
                    &quot;version&quot;: &quot;v1&quot;,
                    &quot;value&quot;: 2
                }
            ]
        },
        ...
    ]
}

</code></pre>
<blockquote>
<p>Request Example with aggregation and filters</p>
</blockquote>
<p><code>https://metrics-api.operas-eu.org/events?aggregation=measure_uri&amp;filter=work_uri:info:doi:10.21435/sflin.24</code></p>
<blockquote>
<p>Response Example with aggregation and filters in the live environment:</p>
</blockquote>
<pre><code class="language-json">{
  &quot;status&quot;: &quot;ok&quot;,
  &quot;code&quot;: 200,
  &quot;count&quot;: 4,
  &quot;data&quot;: [
    {
      &quot;measure_uri&quot;: &quot;https://metrics.operas-eu.org/oapen/downloads/v1&quot;,
      &quot;namespace&quot;: &quot;https://metrics.operas-eu.org&quot;,
      &quot;source&quot;: &quot;OAPEN&quot;,
      &quot;type&quot;: &quot;downloads&quot;,
      &quot;version&quot;: &quot;v1&quot;,
      &quot;value&quot;: 209
    },
    {
      &quot;measure_uri&quot;: &quot;https://metrics.operas-eu.org/up-logs/downloads/v1&quot;,
      &quot;namespace&quot;: &quot;https://metrics.operas-eu.org&quot;,
      &quot;source&quot;: &quot;Ubiquity Press&quot;,
      &quot;type&quot;: &quot;downloads&quot;,
      &quot;version&quot;: &quot;v1&quot;,
      &quot;value&quot;: 313
    },
    ...
  ]
}
</code></pre>
<blockquote>
<p>Request Example with start date and end date</p>
</blockquote>
<p><code>http://localhost:8080/events?start_date=2020-09-18&amp;end_date=2024-08-18</code></p>
<blockquote>
<p>Response Example with start date and end date</p>
</blockquote>
<pre><code class="language-json">{
    &quot;status&quot;: &quot;ok&quot;,
    &quot;code&quot;: 200,
    &quot;count&quot;: 2,
    &quot;data&quot;: [
        {
            &quot;event_id&quot;: &quot;fa5fcb71-78ca-4183-a44b-d07030bc5e80&quot;,
            &quot;work_uri&quot;: &quot;info:doi:10.5334/jors.122&quot;,
            &quot;measure_uri&quot;: &quot;https://metrics.operas-eu.org/crossref/citations/v1&quot;,
            &quot;timestamp&quot;: &quot;2022-08-29T01:00:00+0100&quot;,
            &quot;value&quot;: 1,
            &quot;event_uri&quot;: &quot;10.5194/gmd-15-6399-2022&quot;,
            &quot;country_uri&quot;: null,
            &quot;uploader_uri&quot;: &quot;acct:tech@ubiquitypress.com&quot;
        },
        {
            &quot;event_id&quot;: &quot;da55c8ab-12df-4885-8b92-edff51bc23d0&quot;,
            &quot;work_uri&quot;: &quot;info:doi:10.5334/jors.148&quot;,
            &quot;measure_uri&quot;: &quot;https://metrics.operas-eu.org/crossref/citations/v1&quot;,
            &quot;timestamp&quot;: &quot;2022-11-08T00:00:00+0000&quot;,
            &quot;value&quot;: 1,
            &quot;event_uri&quot;: &quot;10.5194/npg-30-13-2023&quot;,
            &quot;country_uri&quot;: null,
            &quot;uploader_uri&quot;: &quot;acct:tech@ubiquitypress.com&quot;
        }
    ]
}
</code></pre>
<h3 id="post-events">POST <code>events</code></h3>
<h4 id="params_2">Params</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Location</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>work_uri</td>
<td>body</td>
<td>string</td>
<td>yes</td>
<td>Uniform Resource Identifier (URI) that uniquely identifies a specific work or piece of content saved in the Event table.</td>
</tr>
<tr>
<td>measure_uri</td>
<td>body</td>
<td>string</td>
<td>yes</td>
<td>A reference to a service or endpoint that provides metrics or measurements.</td>
</tr>
<tr>
<td>timestamp</td>
<td>body</td>
<td>string</td>
<td>yes</td>
<td>Date in ISO 8601 format.</td>
</tr>
<tr>
<td>value</td>
<td>body</td>
<td>integer</td>
<td>yes</td>
<td>Number of times this event entry occurred.</td>
</tr>
<tr>
<td>event_uri</td>
<td>body</td>
<td>string</td>
<td>no</td>
<td>URI used for single-event metrics, to give more information about the event. The format is specific to the type of event.</td>
</tr>
<tr>
<td>country_uri</td>
<td>body</td>
<td>string</td>
<td>no</td>
<td>URN (Uniform Resource Name) format specified by the ISO 3166 standard, which is used for country codes. Examples: <code>urn:iso:std:3166:-2:US</code> (United States), <code>urn:iso:std:3166:-2:PK</code> (Pakistan)</td>
</tr>
<tr>
<td>uploader_uri</td>
<td>body</td>
<td>string</td>
<td>yes</td>
<td>URI to identify the user that uploaded the metrics event. This uses the acct URI scheme</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Request Example</p>
</blockquote>
<p><code>http://localhost:8080/events</code></p>
<ul>
<li>Body Parameters</li>
</ul>
<pre><code class="language-json">{
    &quot;work_uri&quot;: &quot;info:doi:10.5334/bcd&quot;,
    &quot;measure_uri&quot;: &quot;http://example.com/measure/2&quot;,
    &quot;timestamp&quot;: &quot;2023-10-01T12:00:00+0000&quot;,
    &quot;value&quot;: 100,
    &quot;event_uri&quot;: &quot;http://example.com/event/2&quot;,
    &quot;country_uri&quot;: &quot;urn:iso:std:3166:-2:US&quot;,
    &quot;uploader_uri&quot;: &quot;acct:tech@ubiquitypress.com&quot;
}
</code></pre>
<blockquote>
<p>Response Example</p>
</blockquote>
<pre><code class="language-json">{
    &quot;status&quot;: &quot;ok&quot;,
    &quot;code&quot;: 200,
    &quot;count&quot;: 1,
    &quot;data&quot;: [
        {
            &quot;event_id&quot;: &quot;22bfe31d-0374-45d6-9e6a-f8285b2bc25e&quot;,
            &quot;work_uri&quot;: &quot;info:doi:10.1242/dev.164269&quot;,
            &quot;measure_uri&quot;: &quot;https://metrics.operas-eu.org/world-reader/users/v1&quot;,
            &quot;timestamp&quot;: &quot;2024-01-01T00:00:00+0000&quot;,
            &quot;value&quot;: 100,
            &quot;event_uri&quot;: &quot;event_uri_1&quot;,
            &quot;country_uri&quot;: &quot;urn:iso:std:3166:-2:ZW&quot;,
            &quot;uploader_uri&quot;: &quot;acct:tech@ubiquitypress.com&quot;
        }
    ]
}
</code></pre>
<h3 id="get-measures">GET <code>measures</code></h3>
<h4 id="params_3">Params</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Location</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>None</td>
<td>query</td>
<td>string</td>
<td>no</td>
<td>None</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Request Example</p>
</blockquote>
<p><code>http://localhost:8080/measures</code></p>
<blockquote>
<p>Response Example</p>
</blockquote>
<pre><code class="language-json">{
    &quot;status&quot;: &quot;ok&quot;,
    &quot;code&quot;: 200,
    &quot;count&quot;: 2,
    &quot;data&quot;: [
        {
            &quot;measure_uri&quot;: &quot;https://metrics.operas-eu.org/google-books/views/v1&quot;,
            &quot;namespace&quot;: &quot;https://metrics.operas-eu.org&quot;,
            &quot;source&quot;: &quot;Google Books&quot;,
            &quot;type&quot;: &quot;views&quot;,
            &quot;version&quot;: &quot;v1&quot;,
            &quot;description&quot;: [
                {
                    &quot;locale_code&quot;: &quot;de_DE&quot;,
                    &quot;locale_name&quot;: &quot;German - Germany&quot;,
                    &quot;description&quot;: &quot;Book Visits beschreibt die Gesamtanzahl von Besuchen für einen Titel. Dies kann mehrere Besuche von derselben IP-Adresse beinhalten, die jeweils als einzelne Zugriffe gezählt werden. Google Book reports beinhalten nur Book Visits und Seitenviews.&quot;
                },
                {
                    &quot;locale_code&quot;: &quot;en_GB&quot;,
                    &quot;locale_name&quot;: &quot;English - United Kingdom&quot;,
                    &quot;description&quot;: &quot;Book Visits represent the total number of times a book has been accessed. This can include multiple visits by the same IP address, which are counted as separate visits. Google Books only reports back to the publisher the Book Visits and Book Page Views.&quot;
                }
            ]
        },
        {
            &quot;measure_uri&quot;: &quot;https://metrics.operas-eu.org/obp-html/sessions/v1&quot;,
            &quot;namespace&quot;: &quot;https://metrics.operas-eu.org&quot;,
            &quot;source&quot;: &quot;Open Book Publishers HTML Reader&quot;,
            &quot;type&quot;: &quot;sessions&quot;,
            &quot;version&quot;: &quot;v1&quot;,
            &quot;description&quot;: [
                {
                    &quot;locale_code&quot;: &quot;en_GB&quot;,
                    &quot;locale_name&quot;: &quot;English - United Kingdom&quot;,
                    &quot;description&quot;: &quot;A Book Session is a group of visits made by the same user within a continuous time frame. To record these sessions at Open Book Publishers we use Google Analytics, and a session lasts until there are 30 minutes of inactivity; if a single user keeps interacting with the website within this time frame, multiple visits to the same book will be counted as one session. For more information on Google Analytics’ definition of a session read: &lt;a href=\&quot;https://support.google.com/analytics/answer/2731565\&quot;&gt;How a web session is defined in Analytics&lt;/a&gt;.&quot;
                }
            ]
        }
    ]
}
</code></pre>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      <a href='https://operas-eu.org/' target='_blank'><img src='/images/logo.png' width='200'></a> <p>Unless otherwise indicated, all materials created by the Hirmeos Project are licensed under a <br><a href='https://creativecommons.org/licenses/by/4.0/'>Creative Commons Attribution 4.0 International License</a>. Privacy policy - <a href='https://metrics.operas-eu.org/acceptable-use-policy'>Acceptable Use Policy and Conditions of Use</a></p> 
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/hirmeos" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "navigation.tabs", "navigation.top", "toc.integrate", "search.suggest", "search.highlight", "search.share", "navigation.tracking"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": "random"}</script>
    
    
      <script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
        <script src="../../js/publishers.js?v=1.0.1"></script>
      
        <script src="../../js/service-worker.js"></script>
      
    
  </body>
</html>